<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="stylesheet" href="/docs/assets/css/main.css" />
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script>
    (function(canonical) {
      if (!document.location.href.substr(0, document.location.href.length - document.location.hash.length).startsWith(canonical)) {
        window.location.replace(canonical);
      }
    })('https://www.thethingsnetwork.org/docs/applications/aws/test-messages.html');
    </script>
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Test Messages | The Things Network</title>
<meta name="generator" content="Jekyll v3.4.5" />
<meta property="og:title" content="Test Messages" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Test Messages" />
<meta property="og:description" content="Test Messages" />
<link rel="canonical" href="https://www.thethingsnetwork.org/docs/applications/aws/test-messages.html" />
<meta property="og:url" content="https://www.thethingsnetwork.org/docs/applications/aws/test-messages.html" />
<meta property="og:site_name" content="The Things Network" />
<meta property="og:image" content="https://www.thethingsnetwork.org/docs/assets/images/og-image.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-03-23T12:37:26+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://www.thethingsnetwork.org/docs/assets/images/og-image.png" />
<meta property="twitter:title" content="Test Messages" />
<meta name="twitter:site" content="@thethingsnetwrk" />
<meta property="article:publisher" content="https://www.facebook.com/thethingsnetwork" />
<script type="application/ld+json">
{"headline":"Test Messages","dateModified":"2021-03-23T12:37:26+00:00","datePublished":"2021-03-23T12:37:26+00:00","description":"Test Messages","url":"https://www.thethingsnetwork.org/docs/applications/aws/test-messages.html","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.thethingsnetwork.org/docs/applications/aws/test-messages.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ttnstaticfile.blob.core.windows.net/static/common/favicon/largetile.png"}},"image":"https://www.thethingsnetwork.org/docs/assets/images/og-image.png","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
    <link rel="apple-touch-icon-precomposed" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png">
    <meta name="application-name" content="The Things Network">
    <meta name="msapplication-tooltip" content="Tooltip">
    <meta name="msapplication-config" content="https://ttnweb.azureedge.net/static/common/favicon/ieconfig.54334a5ee30c.xml">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-32.61b30f85680a.png" sizes="32x32">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-57.83b86c64dc82.png" sizes="57x57">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-76.7dcf8fa36dfc.png" sizes="76x76">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-96.27ac17adaa8b.png" sizes="96x96">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-120.e1526731335e.png" sizes="120x120">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-128.fabea041224c.png" sizes="128x128">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png" sizes="144x144">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png" sizes="152x152">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-180.fcd414307ca3.png" sizes="180x180">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-195.c55ce09d66da.png" sizes="195x195">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-228.bea53ec4b10b.png" sizes="228x228">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/smalltile.fabea041224c.png" sizes="128x128">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/mediumtile.3d42f7faac82.png" sizes="270x270">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/widetile.3d42f7faac82.png" sizes="558x270">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/largetile.eb144ebab4d1.png" sizes="558x558">
    <link rel="shortcut icon" sizes="196x196" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-196.277278d69ddc.png">
    <script src="/docs/assets/js/main.js"></script>
  </head>
  <body>
    <div id="header"></div>
    <div id="content">
<div class="layout-page">
  <!-- <div class="ttn-header ttn-header-small">
    <div class="ttn-container container-fluid">
      <h1>
        <img src="/docs/assets/images/the-things-white.png" alt="â›… The Things Network" />
        <span>Learn</span>
      </h1>
    </div>
  </div> -->
  <div class="container-fluid ttn-container">
    <div class="row page-top-nav">
      <div class="col-sm-9">
        <ul>
          <!--<li class="page-top-nav-crumb"><a href="http://www.thethingsnetwork.org/">Home</a></li>-->
          <li class="page-top-nav-crumb"><a href="/docs/">Learn</a></li>
                <li class=""><a href="/docs/quick-start/">Quick Start</a></li>
                <li class=""><a href="/docs/lorawan/">LoRaWAN</a></li>
                <li class=""><a href="/docs/devices-and-gateways/">Devices & Gateways</a></li>
                <li class=""><a href="/docs/applications-and-integrations/">Applications</a></li>
                <li class=""><a href="/docs/the-things-stack/">The Things Stack</a></li>
                <li class=""><a href="/docs/v2-docs/">V2 docs</a></li>
        </ul>
      </div>
      <div class="hidden-xs col-sm-3 text-right">
        <a href="https://github.com/TheThingsNetwork/docs/edit/master/_content/applications/aws/test-messages.md" class="page-edit" data-proofer-ignore><i class="fa fa-github"></i> Edit <strong>test-messages.md</strong></a>
      </div>
    </div>
    <div class="row wrapper">
      <div class="col-sm-3 side-nav">
        <div class="panel page-side-nav">
          <div class="panel-body">
            <ul>
              <li class=""><a href="/docs/applications/index.html"><h5>Applications</h5></a>
            <ul>
                <li class=""><a href="/docs/applications/add.html">Add an Application</a>
                </li>
                <li class=""><a href="/docs/applications/options.html">Build an Application</a>
                </li>
            </ul>
              </li>
            <li class="page-side-nav-section"><span>APIs</span>
            <ul>
                <li class=""><a href="/docs/applications/apis.html">Overview</a>
                </li>
                <li class=""><a href="/docs/applications/manager/">Application Manager API</a>
                </li>
                <li class=""><a href="/docs/applications/mqtt/">Data API (MQTT)</a>
                </li>
            </ul>
            </li>
            <li class="page-side-nav-section"><span>SDKs & Libraries</span>
            <ul>
                <li class=""><a href="/docs/applications/sdks.html">Overview</a>
                </li>
                <li class=""><a href="/docs/applications/golang/">Go</a>
                </li>
                <li class=""><a href="/docs/applications/java/">Java</a>
                </li>
                <li class=""><a href="/docs/applications/nodered/">Node-RED</a>
                </li>
                <li class=""><a href="/docs/applications/nodejs/">Node.js</a>
                </li>
                <li class=""><a href="/docs/applications/python/">Python</a>
                </li>
            </ul>
            </li>
            <li class="page-side-nav-section"><span>Integrations</span>
            <ul>
                <li class=""><a href="/docs/applications/integrations.html">Overview</a>
                </li>
                <li class=""><a href="/docs/applications/aws/">AWS IoT</a>
            <ul>
                <li class=""><a href="/docs/applications/aws/quick-start.html">Quick Start</a>
                </li>
                <li class=""><a href="/docs/applications/aws/thing-registry.html">Thing Registry</a>
                </li>
                <li class="active"><a href="/docs/applications/aws/test-messages.html">Test Messages</a>
                </li>
                <li class=""><a href="/docs/applications/aws/thing-shadows.html">Thing Shadows</a>
                </li>
                <li class=""><a href="/docs/applications/aws/act-on-data.html">Act on Data</a>
                </li>
                <li class=""><a href="/docs/applications/aws/view-metrics.html">View Metrics</a>
                </li>
                <li class=""><a href="/docs/applications/aws/update.html">Update</a>
                </li>
                <li class=""><a href="/docs/applications/aws/troubleshooting.html">Troubleshooting</a>
                </li>
            </ul>
                </li>
                <li class=""><a href="/docs/applications/att/">AllThingsTalk</a>
                </li>
                <li class=""><a href="/docs/applications/cayenne/">Cayenne</a>
                </li>
                <li class=""><a href="/docs/applications/collos/">Collos</a>
                </li>
                <li class=""><a href="/docs/applications/http/">HTTP</a>
                </li>
                <li class=""><a href="/docs/applications/opensensors/">OpenSensors</a>
                </li>
                <li class=""><a href="/docs/applications/storage/">Storage</a>
                </li>
                <li class=""><a href="/docs/applications/ttnmapper/">TTN Mapper</a>
                </li>
                <li class=""><a href="/docs/applications/tago/">Tago</a>
                </li>
                <li class=""><a href="/docs/applications/thingspeak/">ThingSpeak</a>
                </li>
                <li class=""><a href="/docs/applications/evrythng/">EVRYTHNG</a>
                </li>
            </ul>
            </li>
            </ul>
            <!-- <li class="hidden-xs col-sm-2 page-toc page-affix"></li> --> 
          </div>
        </div> 
      </div>
      <div class="col-sm-9 page-body">
        <div class="panel">
          <div class="panel-body page-content">
            <h1 id="test-messages">Test Messages</h1>
<p>The integration publishes uplink messages to AWS IoT MQTT and subscribes to downlink messages. The integration uses the same <a href="..mqtt/api.html#uplink-messages">MQTT topic and payload format</a> as The Things Network MQTT.</p>
<p>This guide walks you through subscribing and storing uplink messages and publishing a downlink message.</p>
<blockquote>
  <p>AWS IoT supports MQTT, HTTP and WebSockets to work with data programmatically. See <a href="https://docs.aws.amazon.com/iot/latest/developerguide/protocols.html">Protocols</a> for more information.</p>
</blockquote>
<h2 id="uplink-messages">Uplink Messages</h2>
<p>When developing LoRaWAN applications in AWS IoT, you often want to view data as it arrives for testing if everything works. AWS IoT features a Test view to subscribe to an MQTT topic and show live data.</p>
<ol>
  <li>Log in to the <a href="http://console.aws.amazon.com">AWS Management Console</a></li>
  <li>In <strong>Services</strong> under <strong>Internet Of Things</strong>, go to <strong>AWS IoT</strong></li>
  <li>In the menu on the left, go to <strong>Test</strong></li>
  <li>
    <p>Enter in <strong>Subscription topic</strong> the uplink topic <code class="highlighter-rouge">+/devices/+/up</code> (or <code class="highlighter-rouge">&lt;AppID&gt;/devices/+/up</code> for a specific application). <a href="https://www.thethingsnetwork.org/docs/applications/mqtt/api.html#uplink-messages">Read more about uplink topics</a></p>
    <p><img src="test-subscribe.png" alt="Test subscribe" /></p>
  </li>
  <li>Click <strong>Subscribe to topic</strong></li>
  <li>
    <p>Uplink messages are shown as they arrive</p>
    <p><img src="test-uplink.png" alt="Test uplink" /></p>
  </li>
</ol>
<h2 id="downlink-messages">Downlink Messages</h2>
<p>When developing LoRaWAN applications in AWS IoT, you often want to send downlink messages to test the behavior of your device. The AWS IoT Test view can also be used to publish downlink messages.</p>
<ol>
  <li>Log in to the <a href="http://console.aws.amazon.com">AWS Management Console</a></li>
  <li>In <strong>Services</strong> under <strong>Internet Of Things</strong>, go to <strong>AWS IoT</strong></li>
  <li>In the menu on the left, go to <strong>Test</strong></li>
  <li>Under <strong>Publish</strong>, enter a downlink topic to publish to: <code class="highlighter-rouge">&lt;AppID&gt;/devices/&lt;DevID&gt;/down</code></li>
  <li>
    <p>Enter the downlink message according to the downlink message format (see <a href="https://www.thethingsnetwork.org/docs/applications/mqtt/api.html#downlink-messages">MQTT topic and payload format</a>):</p>
    <p>For example, sending raw payload:</p>
    <div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
  <span class="c1">// LoRaWAN FPort</span>
  <span class="s2">"port"</span><span class="err">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="c1">// Unconfirmed downlink</span>
  <span class="s2">"confirmed"</span><span class="err">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="c1">// Base64 encoded payload</span>
  <span class="s2">"payload_raw"</span><span class="err">:</span> <span class="s2">"AQIDBA=="</span>
<span class="p">}</span>
</code></pre>
    </div>
    <p><img src="downlink-publish.png" alt="Publish downlink" /></p>
  </li>
  <li>Click <strong>Publish to topic</strong></li>
  <li>
    <p>See the downlink message scheduled in The Things Network Console:</p>
    <p><img src="downlink-console.png" alt="Downlink scheduled" /></p>
  </li>
</ol>
<blockquote>
  <p>See <a href="https://docs.aws.amazon.com/iot/latest/developerguide/protocols.html">Protocols</a> to learn how to interact with the AWS IoT message broker programmatically.</p>
</blockquote>
          </div>  
        </div>
        <div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="lightbox" tabindex="-1" role="dialog">
  <div class="modal-dialog text-center" role="document" style="width:auto;padding:20px;">
    <a href="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png"><img class="modal-content modal-body" src="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png" alt="Zoom" /></a>
  </div>
</div>
<script src="/docs/assets/js/page.js"></script>
    </div>
    <div id="footer"></div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.min.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/ttn-components.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/vue-navbar.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/vue-footer.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/ga.js"></script>
  </body>
</html>
