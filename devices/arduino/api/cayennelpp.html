<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="stylesheet" href="/docs/assets/css/main.css" />
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script>
    (function(canonical) {
      if (!document.location.href.substr(0, document.location.href.length - document.location.hash.length).startsWith(canonical)) {
        window.location.replace(canonical);
      }
    })('https://www.thethingsnetwork.org/docs/devices/arduino/api/cayennelpp.html');
    </script>
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>CayenneLPP | The Things Network</title>
<meta name="generator" content="Jekyll v3.4.5" />
<meta property="og:title" content="CayenneLPP" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="API Reference" />
<meta property="og:description" content="API Reference" />
<link rel="canonical" href="https://www.thethingsnetwork.org/docs/devices/arduino/api/cayennelpp.html" />
<meta property="og:url" content="https://www.thethingsnetwork.org/docs/devices/arduino/api/cayennelpp.html" />
<meta property="og:site_name" content="The Things Network" />
<meta property="og:image" content="https://www.thethingsnetwork.org/docs/assets/images/og-image.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-03-16T16:20:54+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://www.thethingsnetwork.org/docs/assets/images/og-image.png" />
<meta property="twitter:title" content="CayenneLPP" />
<meta name="twitter:site" content="@thethingsnetwrk" />
<meta property="article:publisher" content="https://www.facebook.com/thethingsnetwork" />
<script type="application/ld+json">
{"headline":"CayenneLPP","dateModified":"2021-03-16T16:20:54+00:00","datePublished":"2021-03-16T16:20:54+00:00","description":"API Reference","url":"https://www.thethingsnetwork.org/docs/devices/arduino/api/cayennelpp.html","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.thethingsnetwork.org/docs/devices/arduino/api/cayennelpp.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ttnstaticfile.blob.core.windows.net/static/common/favicon/largetile.png"}},"image":"https://www.thethingsnetwork.org/docs/assets/images/og-image.png","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
    <link rel="apple-touch-icon-precomposed" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png">
    <meta name="application-name" content="The Things Network">
    <meta name="msapplication-tooltip" content="Tooltip">
    <meta name="msapplication-config" content="https://ttnweb.azureedge.net/static/common/favicon/ieconfig.54334a5ee30c.xml">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-32.61b30f85680a.png" sizes="32x32">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-57.83b86c64dc82.png" sizes="57x57">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-76.7dcf8fa36dfc.png" sizes="76x76">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-96.27ac17adaa8b.png" sizes="96x96">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-120.e1526731335e.png" sizes="120x120">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-128.fabea041224c.png" sizes="128x128">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png" sizes="144x144">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png" sizes="152x152">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-180.fcd414307ca3.png" sizes="180x180">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-195.c55ce09d66da.png" sizes="195x195">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-228.bea53ec4b10b.png" sizes="228x228">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/smalltile.fabea041224c.png" sizes="128x128">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/mediumtile.3d42f7faac82.png" sizes="270x270">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/widetile.3d42f7faac82.png" sizes="558x270">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/largetile.eb144ebab4d1.png" sizes="558x558">
    <link rel="shortcut icon" sizes="196x196" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-196.277278d69ddc.png">
    <script src="/docs/assets/js/main.js"></script>
  </head>
  <body>
    <div id="header"></div>
    <div id="content">
<div class="layout-page">
  <!-- <div class="ttn-header ttn-header-small">
    <div class="ttn-container container-fluid">
      <h1>
        <img src="/docs/assets/images/the-things-white.png" alt="⛅ The Things Network" />
        <span>Learn</span>
      </h1>
    </div>
  </div> -->
  <div class="container-fluid ttn-container">
    <div class="row page-top-nav">
      <div class="col-sm-9">
        <ul>
          <!--<li class="page-top-nav-crumb"><a href="http://www.thethingsnetwork.org/">Home</a></li>-->
          <li class="page-top-nav-crumb"><a href="/docs/">Learn</a></li>
                <li class=""><a href="/docs/quick-start/">Quick Start</a></li>
                <li class=""><a href="/docs/lorawan/">LoRaWAN</a></li>
                <li class=""><a href="/docs/devices-and-gateways/">Devices & Gateways</a></li>
                <li class=""><a href="/docs/applications-and-integrations/">Applications</a></li>
                <li class=""><a href="/docs/the-things-stack/">The Things Stack</a></li>
                <li class=""><a href="/docs/v2-docs/">V2 docs</a></li>
        </ul>
      </div>
      <div class="hidden-xs col-sm-3 text-right">
        <a href="https://github.com/TheThingsNetwork/arduino-device-lib/blob/master/docs/CayenneLPP.md" class="page-edit" data-proofer-ignore><i class="fa fa-github"></i> Edit <strong>cayennelpp.md</strong></a>
      </div>
    </div>
    <div class="row wrapper">
      <div class="col-sm-3 side-nav">
        <div class="panel page-side-nav">
          <div class="panel-body">
            <ul>
              <li class=""><a href="/docs/devices/index.html"><h5>Devices</h5></a>
            <ul>
                <li class=""><a href="/docs/devices/registration.html">Device Registration</a>
                </li>
                <li class=""><a href="/docs/devices/bytes.html">Working with Bytes</a>
                </li>
                <li class=""><a href="/docs/devices/bestpractices.html">Best Practices</a>
                </li>
            </ul>
              </li>
            <li class="page-side-nav-section"><span>SDKs & Libraries</span>
            <ul>
                <li class=""><a href="/docs/devices/arduino/">Arduino</a>
            <ul>
                <li class=""><a href="/docs/devices/arduino/ide.html">IDE Setup & Usage</a>
                </li>
                <li class=""><a href="/docs/devices/arduino/usage.html">Library Usage</a>
                </li>
                <li class=""><a href="/docs/devices/arduino/api/network.html">API Reference</a>
                    <i class="fa fa-link"></i>
            <ul>
                <li class=""><a href="/docs/devices/arduino/api/network.html">TheThingsNetwork</a>
                </li>
                <li class=""><a href="/docs/devices/arduino/api/message.html">TheThingsMessage</a>
                </li>
                <li class="active"><a href="/docs/devices/arduino/api/cayennelpp.html">CayenneLPP</a>
                </li>
                <li class=""><a href="/docs/devices/arduino/api/../../node/api.html">TheThingsNode</a>
                    <i class="fa fa-link"></i>
                    <span class="label label-info">draft</span>
                </li>
            </ul>
                </li>
            </ul>
                </li>
            </ul>
            </li>
            <li class="page-side-nav-section"><span>Hardware</span>
            <ul>
                <li class=""><a href="/docs/devices/uno/">The Things Uno</a>
                </li>
                <li class=""><a href="/docs/devices/rak5205-wistrio-lora-tracker/">RAK5205 WisTrio LoRa® Tracker</a>
                </li>
                <li class=""><a href="/docs/devices/rak7200-lora-tracker/">RAK7200 LoRa® Tracker</a>
                </li>
                <li class=""><a href="/docs/devices/rak811-lora-module-breakout-board/">RAK811 LoRa® Breakout Module</a>
                </li>
                <li class=""><a href="/docs/devices/rak811-lora-evaluation-board/">RAK811 LoRa® Evaluation Board</a>
                </li>
                <li class=""><a href="/docs/devices/rak811-wisnode-lora-module/">RAK811 WisNode LoRa Module</a>
                </li>
                <li class=""><a href="/docs/devices/node/">The Things Node</a>
                </li>
                <li class=""><a href="/docs/devices/lopy/">LoPy</a>
                </li>
            </ul>
            </li>
            </ul>
            <!-- <li class="hidden-xs col-sm-2 page-toc page-affix"></li> --> 
          </div>
        </div> 
      </div>
      <div class="col-sm-9 page-body">
        <div class="panel">
          <div class="panel-body page-content">
            <h1 id="api-reference">API Reference</h1>
<p>The <code class="highlighter-rouge">CayenneLPP</code> class enables Arduino devices to encode data with the Cayenne Low Power Payload (LPP). <a href="https://mydevices.com/cayenne/docs/lora/#lora-cayenne-low-power-payload">Read more about Cayenne LPP</a></p>
<h2 id="class-cayennelpp">Class: <code class="highlighter-rouge">CayenneLPP</code></h2>
<p>Include and instantiate the CayenneLPP class. The constructor takes the size of the allocated buffer. Depending on the LoRa frequency plan and data rate used, the maximum payload varies. It’s safe to send up to 51 bytes of payload.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="cp">#include &lt;CayenneLPP.h&gt;
</span>
<span class="n">CayenneLPP</span> <span class="n">lpp</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">size</span><span class="p">);</span>
</code></pre>
</div>
<ul>
  <li><code class="highlighter-rouge">uint8_t size</code>: The maximum payload size to send, e.g. <code class="highlighter-rouge">51</code>.</li>
</ul>
<h2 id="example">Example</h2>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="n">TheThingsNetwork</span> <span class="n">ttn</span><span class="p">(</span><span class="n">loraSerial</span><span class="p">,</span> <span class="n">debugSerial</span><span class="p">,</span> <span class="n">freqPlan</span><span class="p">);</span>
<span class="n">CayenneLPP</span> <span class="n">lpp</span><span class="p">(</span><span class="mi">51</span><span class="p">);</span>

<span class="n">lpp</span><span class="p">.</span><span class="n">reset</span><span class="p">();</span>
<span class="n">lpp</span><span class="p">.</span><span class="n">addTemperature</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">22</span><span class="p">.</span><span class="mi">5</span><span class="p">);</span>
<span class="n">lpp</span><span class="p">.</span><span class="n">addBarometricPressure</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1073</span><span class="p">.</span><span class="mi">21</span><span class="p">);</span>
<span class="n">lpp</span><span class="p">.</span><span class="n">addGPS</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">52</span><span class="p">.</span><span class="mi">37365</span><span class="p">,</span> <span class="mi">4</span><span class="p">.</span><span class="mi">88650</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>

<span class="n">ttn</span><span class="p">.</span><span class="n">sendBytes</span><span class="p">(</span><span class="n">lpp</span><span class="p">.</span><span class="n">getBuffer</span><span class="p">(),</span> <span class="n">lpp</span><span class="p">.</span><span class="n">getSize</span><span class="p">());</span>
</code></pre>
</div>
<p>See the <a href="https://github.com/TheThingsNetwork/arduino-device-lib/blob/master/examples/CayenneLPP/CayenneLPP.ino">CayenneLPP</a> example.</p>
<h2 id="method-reset">Method: <code class="highlighter-rouge">reset</code></h2>
<p>Resets the buffer.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">void</span> <span class="n">reset</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</code></pre>
</div>
<h2 id="method-getsize">Method: <code class="highlighter-rouge">getSize</code></h2>
<p>Returns the size of the buffer.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">uint8_t</span> <span class="n">getSize</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</code></pre>
</div>
<h2 id="method-getbuffer">Method: <code class="highlighter-rouge">getBuffer</code></h2>
<p>Returns a pointer to the buffer.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">uint8_t</span> <span class="o">*</span><span class="n">getBuffer</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</code></pre>
</div>
<h2 id="method-copy">Method: <code class="highlighter-rouge">copy</code></h2>
<p>Copies the internal buffer to a specified buffer and returns the copied size.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">uint8_t</span> <span class="n">copy</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="o">*</span><span class="n">buffer</span><span class="p">);</span>
</code></pre>
</div>
<h2 id="methods-add">Methods: <code class="highlighter-rouge">add...</code></h2>
<p>Add data to the buffer. The <code class="highlighter-rouge">channel</code> parameter acts as a key for the data field. The data fields you send are dynamic; you can selectively send data as long as the channel matches.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">uint8_t</span> <span class="n">addDigitalInput</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">channel</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">value</span><span class="p">);</span>
<span class="kt">uint8_t</span> <span class="n">addDigitalOutput</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">channel</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">value</span><span class="p">);</span>

<span class="kt">uint8_t</span> <span class="n">addAnalogInput</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">channel</span><span class="p">,</span> <span class="kt">float</span> <span class="n">value</span><span class="p">);</span>
<span class="kt">uint8_t</span> <span class="n">addAnalogOutput</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">channel</span><span class="p">,</span> <span class="kt">float</span> <span class="n">value</span><span class="p">);</span>

<span class="kt">uint8_t</span> <span class="n">addLuminosity</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">channel</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">lux</span><span class="p">);</span>
<span class="kt">uint8_t</span> <span class="n">addPresence</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">channel</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">value</span><span class="p">);</span>
<span class="kt">uint8_t</span> <span class="n">addTemperature</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">channel</span><span class="p">,</span> <span class="kt">float</span> <span class="n">celsius</span><span class="p">);</span>
<span class="kt">uint8_t</span> <span class="n">addRelativeHumidity</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">channel</span><span class="p">,</span> <span class="kt">float</span> <span class="n">rh</span><span class="p">);</span>
<span class="kt">uint8_t</span> <span class="n">addAccelerometer</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">channel</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">z</span><span class="p">);</span>
<span class="kt">uint8_t</span> <span class="n">addBarometricPressure</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">channel</span><span class="p">,</span> <span class="kt">float</span> <span class="n">hpa</span><span class="p">);</span>
<span class="kt">uint8_t</span> <span class="n">addGyrometer</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">channel</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">z</span><span class="p">);</span>
<span class="kt">uint8_t</span> <span class="n">addGPS</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">channel</span><span class="p">,</span> <span class="kt">float</span> <span class="n">latitude</span><span class="p">,</span> <span class="kt">float</span> <span class="n">longitude</span><span class="p">,</span> <span class="kt">float</span> <span class="n">meters</span><span class="p">);</span>
</code></pre>
</div>
          </div>  
        </div>
        <div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="lightbox" tabindex="-1" role="dialog">
  <div class="modal-dialog text-center" role="document" style="width:auto;padding:20px;">
    <a href="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png"><img class="modal-content modal-body" src="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png" alt="Zoom" /></a>
  </div>
</div>
<script src="/docs/assets/js/page.js"></script>
    </div>
    <div id="footer"></div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.min.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/ttn-components.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/vue-navbar.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/vue-footer.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/ga.js"></script>
  </body>
</html>
