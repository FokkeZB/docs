<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="stylesheet" href="/docs/assets/css/main.css" />
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script>
    (function(canonical) {
      if (!document.location.href.substr(0, document.location.href.length - document.location.hash.length).startsWith(canonical)) {
        window.location.replace(canonical);
      }
    })('https://www.thethingsnetwork.org/docs/devices/arduino/api/network.html');
    </script>
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>TheThingsNetwork | The Things Network</title>
<meta name="generator" content="Jekyll v3.4.5" />
<meta property="og:title" content="TheThingsNetwork" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="API Reference" />
<meta property="og:description" content="API Reference" />
<link rel="canonical" href="https://www.thethingsnetwork.org/docs/devices/arduino/api/network.html" />
<meta property="og:url" content="https://www.thethingsnetwork.org/docs/devices/arduino/api/network.html" />
<meta property="og:site_name" content="The Things Network" />
<meta property="og:image" content="https://www.thethingsnetwork.org/docs/assets/images/og-image.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-03-10T16:58:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://www.thethingsnetwork.org/docs/assets/images/og-image.png" />
<meta property="twitter:title" content="TheThingsNetwork" />
<meta name="twitter:site" content="@thethingsnetwrk" />
<meta property="article:publisher" content="https://www.facebook.com/thethingsnetwork" />
<script type="application/ld+json">
{"datePublished":"2021-03-10T16:58:00+00:00","image":"https://www.thethingsnetwork.org/docs/assets/images/og-image.png","description":"API Reference","url":"https://www.thethingsnetwork.org/docs/devices/arduino/api/network.html","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ttnstaticfile.blob.core.windows.net/static/common/favicon/largetile.png"}},"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.thethingsnetwork.org/docs/devices/arduino/api/network.html"},"headline":"TheThingsNetwork","dateModified":"2021-03-10T16:58:00+00:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
    <link rel="apple-touch-icon-precomposed" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png">
    <meta name="application-name" content="The Things Network">
    <meta name="msapplication-tooltip" content="Tooltip">
    <meta name="msapplication-config" content="https://ttnweb.azureedge.net/static/common/favicon/ieconfig.54334a5ee30c.xml">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-32.61b30f85680a.png" sizes="32x32">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-57.83b86c64dc82.png" sizes="57x57">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-76.7dcf8fa36dfc.png" sizes="76x76">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-96.27ac17adaa8b.png" sizes="96x96">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-120.e1526731335e.png" sizes="120x120">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-128.fabea041224c.png" sizes="128x128">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-144.61bd01a950fb.png" sizes="144x144">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-152.6c70a98e264d.png" sizes="152x152">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-180.fcd414307ca3.png" sizes="180x180">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-195.c55ce09d66da.png" sizes="195x195">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-228.bea53ec4b10b.png" sizes="228x228">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/smalltile.fabea041224c.png" sizes="128x128">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/mediumtile.3d42f7faac82.png" sizes="270x270">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/widetile.3d42f7faac82.png" sizes="558x270">
    <link rel="icon" href="https://ttnweb.azureedge.net/static/common/favicon/largetile.eb144ebab4d1.png" sizes="558x558">
    <link rel="shortcut icon" sizes="196x196" href="https://ttnweb.azureedge.net/static/common/favicon/favicon-196.277278d69ddc.png">
    <script src="/docs/assets/js/main.js"></script>
  </head>
  <body>
    <div id="header"></div>
    <div id="content">
<div class="layout-page">
  <!-- <div class="ttn-header ttn-header-small">
    <div class="ttn-container container-fluid">
      <h1>
        <img src="/docs/assets/images/the-things-white.png" alt="⛅ The Things Network" />
        <span>Learn</span>
      </h1>
    </div>
  </div> -->
  <div class="container-fluid ttn-container">
    <div class="row page-top-nav">
      <div class="col-sm-9">
        <ul>
          <li class="page-top-nav-crumb"><a href="http://www.thethingsnetwork.org/">Home</a></li>
          <li class="page-top-nav-crumb"><a href="/docs/">Learn</a></li>
                <li class=""><a href="/docs/lorawan/">LoRaWAN</a></li>
                <li class="active"><a href="/docs/devices/">Devices</a></li>
                <li class=""><a href="/docs/gateways/">Gateways</a></li>
                <li class=""><a href="/docs/network/">Network</a></li>
                <li class=""><a href="/docs/applications/">Applications</a></li>
                <li class=""><a href="/docs/the-things-stack-v3/">The Things Stack V3</a></li>
        </ul>
      </div>
      <div class="hidden-xs col-sm-3 text-right">
        <a href="https://github.com/TheThingsNetwork/arduino-device-lib/blob/master/docs/TheThingsNetwork.md" class="page-edit" data-proofer-ignore><i class="fa fa-github"></i> Edit <strong>network.md</strong></a>
      </div>
      <div class="col-12">
        This documentation page applies to the legacy Things Network Stack V2. Documentation for The Things Stack V3 is available <a href="https://thethingsstack.io">here</a>
      </div>
    </div>
    <div class="row wrapper">
      <div class="col-sm-3 side-nav">
        <div class="panel page-side-nav">
          <div class="panel-body">
            <ul>
              <li class=""><a href="/docs/devices/index.html"><h5>Devices</h5></a>
            <ul>
                <li class=""><a href="/docs/devices/registration.html">Device Registration</a>
                </li>
                <li class=""><a href="/docs/devices/bytes.html">Working with Bytes</a>
                </li>
                <li class=""><a href="/docs/devices/bestpractices.html">Best Practices</a>
                </li>
            </ul>
              </li>
            <li class="page-side-nav-section"><span>SDKs & Libraries</span>
            <ul>
                <li class=""><a href="/docs/devices/arduino/">Arduino</a>
            <ul>
                <li class=""><a href="/docs/devices/arduino/ide.html">IDE Setup & Usage</a>
                </li>
                <li class=""><a href="/docs/devices/arduino/usage.html">Library Usage</a>
                </li>
                <li class=""><a href="/docs/devices/arduino/api/network.html">API Reference</a>
                    <i class="fa fa-link"></i>
            <ul>
                <li class="active"><a href="/docs/devices/arduino/api/network.html">TheThingsNetwork</a>
                </li>
                <li class=""><a href="/docs/devices/arduino/api/message.html">TheThingsMessage</a>
                </li>
                <li class=""><a href="/docs/devices/arduino/api/cayennelpp.html">CayenneLPP</a>
                </li>
                <li class=""><a href="/docs/devices/arduino/api/../../node/api.html">TheThingsNode</a>
                    <i class="fa fa-link"></i>
                    <span class="label label-info">draft</span>
                </li>
            </ul>
                </li>
            </ul>
                </li>
            </ul>
            </li>
            <li class="page-side-nav-section"><span>Hardware</span>
            <ul>
                <li class=""><a href="/docs/devices/uno/">The Things Uno</a>
                </li>
                <li class=""><a href="/docs/devices/rak5205-wistrio-lora-tracker/">RAK5205 WisTrio LoRa® Tracker</a>
                </li>
                <li class=""><a href="/docs/devices/rak7200-lora-tracker/">RAK7200 LoRa® Tracker</a>
                </li>
                <li class=""><a href="/docs/devices/rak811-lora-module-breakout-board/">RAK811 LoRa® Breakout Module</a>
                </li>
                <li class=""><a href="/docs/devices/rak811-lora-evaluation-board/">RAK811 LoRa® Evaluation Board</a>
                </li>
                <li class=""><a href="/docs/devices/rak811-wisnode-lora-module/">RAK811 WisNode LoRa Module</a>
                </li>
                <li class=""><a href="/docs/devices/node/">The Things Node</a>
                </li>
                <li class=""><a href="/docs/devices/lopy/">LoPy</a>
                </li>
            </ul>
            </li>
            </ul>
            <!-- <li class="hidden-xs col-sm-2 page-toc page-affix"></li> --> 
          </div>
        </div> 
      </div>
      <div class="col-sm-9 page-body">
        <div class="panel">
          <div class="panel-body page-content">
            <h1 id="api-reference">API Reference</h1>
<p>The <code class="highlighter-rouge">TheThingsNetwork</code> class enables Arduino devices with supported LoRaWAN modules to communicate via The Things Network. Currently supported LoRaWAN modules are the Microchip RN2483 and the RN2903.</p>
<h2 id="class-thethingsnetwork">Class: <code class="highlighter-rouge">TheThingsNetwork</code></h2>
<p>Include and instantiate the TheThingsNetwork class. The constructor initialize the library with the Streams it should communicate with. It also sets the value of the spreading factor, the frequency plan and the frequency sub-band.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="cp">#include &lt;TheThingsNetwork.h&gt;
</span>
<span class="n">TheThingsNetwork</span> <span class="n">ttn</span><span class="p">(</span><span class="n">Stream</span><span class="o">&amp;</span> <span class="n">modemStream</span><span class="p">,</span> <span class="n">Stream</span><span class="o">&amp;</span> <span class="n">debugStream</span><span class="p">,</span> <span class="n">fp_ttn_t</span> <span class="n">fp</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">sf</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">fsb</span> <span class="o">=</span> <span class="mi">2</span><span class="p">);</span>
</code></pre>
</div>
<ul>
  <li><code class="highlighter-rouge">Stream&amp; modemStream</code>: Stream for the LoRa modem (<a href="https://www.thethingsnetwork.org/docs/devices/arduino/usage.html">see notes</a>).</li>
  <li><code class="highlighter-rouge">Stream&amp; debugStream</code>: Stream to write debug logs to (<a href="https://www.thethingsnetwork.org/docs/devices/arduino/usage.html">see notes</a>).</li>
  <li><code class="highlighter-rouge">fp_ttn_fp fp</code>: The frequency plan: <code class="highlighter-rouge">TTN_FP_EU868</code>, <code class="highlighter-rouge">TTN_FP_US915</code>, <code class="highlighter-rouge">TTN_FP_AS920_923</code>, <code class="highlighter-rouge">TTN_FP_AS923_925</code> or <code class="highlighter-rouge">TTN_FP_KR920_923</code> depending on the region you deploy in. See <a href="https://www.thethingsnetwork.org/wiki/LoRaWAN/Frequencies/Frequency-Plans">the wiki</a>.</li>
  <li><code class="highlighter-rouge">uint8_t sf = 7</code>: Optional custom spreading factor. Can be <code class="highlighter-rouge">7</code> to <code class="highlighter-rouge">10</code> for <code class="highlighter-rouge">TTN_FP_US915</code> and <code class="highlighter-rouge">7</code> to <code class="highlighter-rouge">12</code> for other frequency plans. Defaults to <code class="highlighter-rouge">7</code>.</li>
  <li><code class="highlighter-rouge">uint8_t fsb = 2</code>: Optional custom frequency subband. Can be <code class="highlighter-rouge">1</code> to <code class="highlighter-rouge">8</code>. Defaults to <code class="highlighter-rouge">2</code> (for US915).</li>
</ul>
<h2 id="method-reset">Method: <code class="highlighter-rouge">reset</code></h2>
<p>Performs a software reset of the RN module. This does not clear saved state, e.g. provisioned keys.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">void</span> <span class="n">reset</span><span class="p">(</span><span class="n">bool</span> <span class="n">adr</span><span class="p">);</span>
</code></pre>
</div>
<ul>
  <li><code class="highlighter-rouge">bool adr</code>: Enable/disable Adaptive Data Rate.</li>
</ul>
<h2 id="method-gethardwareeui">Method: <code class="highlighter-rouge">getHardwareEui</code></h2>
<p>Gets the unique hardware EUI, often used as the DevEUI.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">size_t</span> <span class="n">getHardwareEui</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">buffer</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">size</span><span class="p">);</span>
</code></pre>
</div>
<h2 id="method-getappeui">Method: <code class="highlighter-rouge">getAppEui</code></h2>
<p>Gets the provisioned AppEUI. The AppEUI is set using <code class="highlighter-rouge">provision()</code> or <code class="highlighter-rouge">join()</code>.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">size_t</span> <span class="n">getAppEui</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">buffer</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">size</span><span class="p">);</span>
</code></pre>
</div>
<h2 id="method-showstatus">Method: <code class="highlighter-rouge">showStatus</code></h2>
<p>Writes information about the device and LoRa module to <code class="highlighter-rouge">debugStream</code>.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">void</span> <span class="n">showStatus</span><span class="p">();</span>
</code></pre>
</div>
<p>Will write something like:</p>
<div class="language-bash highlighter-rouge"><pre class="highlight"><code>EUI: 0004A30B001B7AD2
Battery: 3223
AppEUI: 70B3D57EF000001C
DevEUI: 0004A30B001B7AD2
Data Rate: 5
RX Delay 1: 1000
RX Delay 2: 2000
</code></pre>
</div>
<p>See the <a href="https://github.com/TheThingsNetwork/arduino-device-lib/blob/master/examples/DeviceInfo/DeviceInfo.ino">DeviceInfo</a> example.</p>
<h2 id="method-onmessage">Method: <code class="highlighter-rouge">onMessage</code></h2>
<p>Sets a function which will be called to process incoming messages. You’ll want to do this in your <code class="highlighter-rouge">setup()</code> function and then define a <code class="highlighter-rouge">void (*cb)(const byte* payload, size_t length, port_t port)</code> function somewhere else in your sketch.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">void</span> <span class="n">onMessage</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">cb</span><span class="p">)(</span><span class="k">const</span> <span class="n">byte</span><span class="o">*</span> <span class="n">payload</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">length</span><span class="p">,</span> <span class="n">port_t</span> <span class="n">port</span><span class="p">));</span>
</code></pre>
</div>
<ul>
  <li><code class="highlighter-rouge">const byte* payload</code>: Bytes received.</li>
  <li><code class="highlighter-rouge">size_t length</code>: Number of bytes.</li>
  <li><code class="highlighter-rouge">port_t port</code>: The port addressed.</li>
</ul>
<p>See the <a href="https://github.com/TheThingsNetwork/arduino-device-lib/blob/master/examples/Receive/Receive.ino">Receive</a> example.</p>
<h2 id="method-join">Method: <code class="highlighter-rouge">join</code></h2>
<p>Activate the device via OTAA (default).</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="n">bool</span> <span class="n">join</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">appEui</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">appKey</span><span class="p">,</span> <span class="kt">int8_t</span> <span class="n">retries</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">retryDelay</span> <span class="o">=</span> <span class="mi">10000</span><span class="p">);</span>
<span class="n">bool</span> <span class="n">join</span><span class="p">(</span><span class="kt">int8_t</span> <span class="n">retries</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">retryDelay</span> <span class="o">=</span> <span class="mi">10000</span><span class="p">);</span>
</code></pre>
</div>
<ul>
  <li><code class="highlighter-rouge">const char *appEui</code>: Application EUI the device is registered to.</li>
  <li><code class="highlighter-rouge">const char *appKey</code>: Application Key assigned to the device.</li>
  <li><code class="highlighter-rouge">int8_t retries = -1</code>: Number of times to retry after failed or unconfirmed join. Defaults to <code class="highlighter-rouge">-1</code> which means infinite.</li>
  <li><code class="highlighter-rouge">uint32_t retryDelay = 10000</code>: Delay in ms between attempts. Defaults to 10 seconds.</li>
</ul>
<p>Returns <code class="highlighter-rouge">true</code> or <code class="highlighter-rouge">false</code> depending on whether it received confirmation that the activation was successful before the maximum number of attempts.</p>
<p>Call the method without the first two arguments if the device’s LoRa module comes with pre-flashed values.</p>
<h2 id="method-personalize">Method: <code class="highlighter-rouge">personalize</code></h2>
<p>Activate the device via ABP.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="n">bool</span> <span class="n">personalize</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">devAddr</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">nwkSKey</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">appSKey</span><span class="p">);</span>
<span class="n">bool</span> <span class="n">personalize</span><span class="p">();</span>
</code></pre>
</div>
<ul>
  <li><code class="highlighter-rouge">const char *devAddr</code>: Device Address assigned to the device.</li>
  <li><code class="highlighter-rouge">const char *nwkSKey</code>: Network Session Key assigned to the device for identification.</li>
  <li><code class="highlighter-rouge">const char *appSKey</code>: Application Session Key assigned to the device for encryption.</li>
</ul>
<p>Returns <code class="highlighter-rouge">true</code> or <code class="highlighter-rouge">false</code> depending on whether the activation was successful.</p>
<p>Call the method with no arguments if the device’s LoRa module comes with pre-flashed values.</p>
<p>See the <a href="https://github.com/TheThingsNetwork/arduino-device-lib/blob/master/examples/SendABP/SendABP.ino">SendABP</a> example.</p>
<h2 id="method-sendbytes">Method: <code class="highlighter-rouge">sendBytes</code></h2>
<p>Send a message to the application using raw bytes.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="n">ttn_response_t</span> <span class="n">sendBytes</span><span class="p">(</span><span class="k">const</span> <span class="n">byte</span><span class="o">*</span> <span class="n">payload</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">length</span><span class="p">,</span> <span class="n">port_t</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">bool</span> <span class="n">confirm</span> <span class="o">=</span> <span class="nb">false</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">sf</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);</span>
</code></pre>
</div>
<ul>
  <li><code class="highlighter-rouge">const byte* payload </code>: Bytes to send.</li>
  <li><code class="highlighter-rouge">size_t length</code>: The number of bytes. Use <code class="highlighter-rouge">sizeof(payload)</code> to get it.</li>
  <li><code class="highlighter-rouge">port_t port = 1</code>: The port to address. Defaults to <code class="highlighter-rouge">1</code>.</li>
  <li><code class="highlighter-rouge">bool confirm = false</code>: Whether to ask for confirmation. Defaults to <code class="highlighter-rouge">false</code>. If confirmation fails, the method will return error code <code class="highlighter-rouge">TTN_ERROR_UNEXPECTED_RESPONSE</code>.</li>
  <li><code class="highlighter-rouge">uint8_t sf = 0</code>: Override the spreading factor (SF). If the default value <code class="highlighter-rouge">0</code> is passed, the SF is not changed from the constructor or previous value.</li>
</ul>
<p>Returns a success or error code and logs the related error message:</p>
<ul>
  <li><code class="highlighter-rouge">TTN_ERROR_SEND_COMMAND_FAILED</code>: Send command failed.</li>
  <li><code class="highlighter-rouge">TTN_SUCCESSFUL_TRANSMISSION</code>: Successful transmission.</li>
  <li><code class="highlighter-rouge">TTN_SUCCESSFUL_RECEIVE</code>: Successful transmission. Received &lt;N&gt; bytes</li>
  <li><code class="highlighter-rouge">TTN_ERROR_UNEXPECTED_RESPONSE</code>: Unexpected response: &lt;Response&gt;</li>
</ul>
<p>See the <a href="https://github.com/TheThingsNetwork/arduino-device-lib/blob/master/examples/SendOTAA/SendOTAA.ino">SendOTAA</a> example.</p>
<h2 id="method-poll">Method: <code class="highlighter-rouge">poll</code></h2>
<p>Calls <code class="highlighter-rouge">sendBytes()</code> with <code class="highlighter-rouge"><span class="p">{</span><span class="w"> </span><span class="err">0x00</span><span class="w"> </span><span class="p">}</span></code> as payload to poll for incoming messages.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">int8_t</span> <span class="n">poll</span><span class="p">(</span><span class="n">port_t</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">bool</span> <span class="n">confirm</span> <span class="o">=</span> <span class="nb">false</span><span class="p">);</span>
</code></pre>
</div>
<ul>
  <li><code class="highlighter-rouge">port_t port = 1</code>: The port to address. Defaults to <code class="highlighter-rouge">1</code>.</li>
  <li><code class="highlighter-rouge">bool confirm = false</code>: Whether to ask for confirmation.</li>
</ul>
<p>Returns the result of <code class="highlighter-rouge">sendBytes()</code>.</p>
<p>See the <a href="https://github.com/TheThingsNetwork/arduino-device-lib/blob/master/examples/Receive/Receive.ino">Receive</a> example.</p>
<h2 id="method-provision">Method: <code class="highlighter-rouge">provision</code></h2>
<p>Sets the information needed to activate the device via OTAA, without actually activating. Call join() without the first 2 arguments to activate.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="n">bool</span> <span class="n">provision</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">appEui</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">appKey</span><span class="p">);</span>
</code></pre>
</div>
<ul>
  <li><code class="highlighter-rouge">const char *appEui</code>: Application Identifier for the device.</li>
  <li><code class="highlighter-rouge">const char *appKey</code>: Application Key assigned to the device.</li>
</ul>
<h2 id="method-sleep">Method: <code class="highlighter-rouge">sleep</code></h2>
<p>Sleep the LoRa module for a specified number of milliseconds.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">void</span> <span class="n">sleep</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">mseconds</span><span class="p">);</span>
</code></pre>
</div>
<ul>
  <li><code class="highlighter-rouge">unsigned long mseconds</code>: number of milliseconds to sleep.</li>
</ul>
<h2 id="method-wake">Method: <code class="highlighter-rouge">wake</code></h2>
<p>Wake up the LoRa module from sleep before the expiration of the defined time.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">void</span> <span class="n">wake</span><span class="p">();</span>
</code></pre>
</div>
<h2 id="method-linkcheck">Method: <code class="highlighter-rouge">linkCheck</code></h2>
<p>Sets the time interval for the link check process to be triggered. When the interval expires, the next uplink will include a Link Check Request MAC command. When using this method, it should be called after joining has completed.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">void</span> <span class="n">linkCheck</span><span class="p">(</span><span class="kt">uint16_t</span> <span class="n">seconds</span><span class="p">);</span>
</code></pre>
</div>
<ul>
  <li><code class="highlighter-rouge">uint16_t seconds</code>: the time interval in seconds. A value of 0 will disable the link check process.</li>
</ul>
<h2 id="method-getlinkcheckgateways">Method: <code class="highlighter-rouge">getLinkCheckGateways</code></h2>
<p>Gets the number of gateways that successfully received the last Link Check Request frame.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">uint8_t</span> <span class="n">getLinkCheckGateways</span><span class="p">();</span>
</code></pre>
</div>
<h2 id="method-getlinkcheckmargin">Method: <code class="highlighter-rouge">getLinkCheckMargin</code></h2>
<p>Gets the demodulation margin as received in the last Link Check Answer frame.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">uint8_t</span> <span class="n">getLinkCheckMargin</span><span class="p">();</span>
</code></pre>
</div>
<h2 id="method-getvdd">Method: <code class="highlighter-rouge">getVDD</code></h2>
<p>Returns the voltage in millivolt (mV) measured by the RN2xxx LoRa module. It’s for information only since we don’t know how it’s measured but looks like accurate.</p>
<div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="kt">uint16_t</span> <span class="n">getVDD</span><span class="p">();</span>
</code></pre>
</div>
          </div>  
        </div>
        <div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="lightbox" tabindex="-1" role="dialog">
  <div class="modal-dialog text-center" role="document" style="width:auto;padding:20px;">
    <a href="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png"><img class="modal-content modal-body" src="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png" alt="Zoom" /></a>
  </div>
</div>
<script src="/docs/assets/js/page.js"></script>
    </div>
    <div id="footer"></div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.min.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/ttn-components.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/vue-navbar.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/vue-footer.js"></script>
    <script src="https://ttnweb.azureedge.net/static/common/js/ga.js"></script>
  </body>
</html>
